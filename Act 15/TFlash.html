<!DOCTYPE html>
<html lang="es-CO">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Tarjetas</title>
<style>
  :root{
    --bg:#f6f6f7;
    --card:#ffffff;
    --accent:#111;
    --muted:#777;
    --progress-bg:#e6e6e6;
    --progress-fill:#222;
  }
  body{
    margin:0;
    min-height:100vh;
    display:flex;
    align-items:flex-start;
    justify-content:center;
    background:var(--bg);
    font-family: Inter, "Segoe UI", Roboto, Arial, sans-serif;
    padding:36px 12px;
    color:var(--accent);
  }

  .app{
    width:720px;
    max-width:96%;
  }

  header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:14px;
  }
  h1{ font-size:20px; margin:0; }
  .meta { color:var(--muted); font-size:14px; }

  /* progress area */
  .progress-wrap{
    background:var(--progress-bg);
    border-radius:12px;
    padding:10px;
    margin-bottom:16px;
    display:flex;
    align-items:center;
    gap:12px;
  }
  .progress-bar {
    flex:1;
    height:12px;
    background:rgba(0,0,0,0.05);
    border-radius:8px;
    overflow:hidden;
    position:relative;
  }
  .progress-bar .fill{
    height:100%;
    width:0%;
    background:var(--progress-fill);
    transition:width 300ms ease;
  }
  .progress-info{
    min-width:96px;
    text-align:right;
    font-size:14px;
    color:var(--muted);
  }

  /* card */
  .card-area{
    perspective:1200px;
  }
  .card{
    width:100%;
    height:220px;
    border-radius:10px;
    position:relative;
    transform-style:preserve-3d;
    transition: transform 500ms ease;
    cursor:default;
  }
  .card-inner{
    position:relative;
    width:100%;
    height:100%;
    transform-style:preserve-3d;
  }
  .side{
    position:absolute;
    inset:0;
    border-radius:10px;
    backface-visibility:hidden;
    box-shadow:0 6px 18px rgba(0,0,0,0.06);
    display:flex;
    align-items:center;
    justify-content:center;
    padding:22px;
    font-size:18px;
    line-height:1.4;
  }
  .front{
    background:var(--card);
  }
  .back{
    background:var(--card);
    transform:rotateY(180deg);
  }
  .card.flipped { transform: rotateY(180deg); }

  /* footer controls */
  .controls{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-top:12px;
    gap:12px;
  }
  .nav-left, .nav-right{
    display:flex;
    gap:8px;
    align-items:center;
  }

  button{
    background:#111;
    color:#fff;
    border:none;
    padding:10px 14px;
    border-radius:8px;
    cursor:pointer;
    font-size:14px;
  }
  button.secondary{
    background:#e9e9e9;
    color:#111;
  }
  button:active{ transform:translateY(1px); }

  .small{
    font-size:13px;
    color:var(--muted);
  }

  /* responsive */
  @media (max-width:420px){
    .card{ height:200px; }
    button{ padding:8px 10px; font-size:13px; }
  }
</style>
</head>
<body>
  <div class="app" role="application" aria-label="Tarjetas Flash">
    <header>
      <div>
        <h1>Tarjetas</h1>
        <div class="meta small">Pregnutas y respuestas</div>
      </div>
      <div class="meta small" id="progressLabel">0 / 0</div>
    </header>

    <div class="progress-wrap" aria-hidden="false">
      <div class="progress-bar" aria-hidden="true">
        <div class="fill" id="progressFill"></div>
      </div>
      <div class="progress-info" id="progressPercent">0%</div>
    </div>

    <main>
      <div class="card-area">
        <div class="card" id="card" tabindex="0" aria-live="polite" aria-pressed="false">
          <div class="card-inner">
            <div class="side front" id="cardFront">Pregunta</div>
            <div class="side back" id="cardBack">Respuesta</div>
          </div>
        </div>
      </div>

      <div class="controls" aria-hidden="false">
        <div class="nav-left">
          <button id="prevBtn" class="secondary" title="Anterior (A)">← Anterior</button>
          <button id="flipBtn" title="Mostrar / Ocultar respuesta">Mostrar respuesta</button>
          <button id="nextBtn" class="secondary" title="Siguiente (D)">Siguiente →</button>
        </div>

        <div class="nav-right small" id="cardCounter" aria-live="polite">1 / 1</div>
      </div>
    </main>
  </div>

<script>
/* Tarjetas por defecto */
const flashcards = [
  {
    q: "¿Cuál es la diferencia entre var, let y const?",
    a: "En JavaScript, var puede redeclararse; let permite reasignación; const no la permite."
  },
  {
    q: "¿Qué es un closure en JavaScript?",
    a: "Un closure permite que una función acceda a variables externas incluso después de que la función externa haya terminado."
  },
  {
    q: "¿Para qué sirve el método Array.prototype.map?",
    a: "map crea un nuevo arreglo aplicando una función a cada elemento del arreglo original pero no modifica el arreglo original."
  },
  {
    q: "¿Qué es la promesa (Promise)?",
    a: "Objeto que representa la eventual finalización (o falla) de una operación asíncrona y su valor resultante."
  },
  {
    q: "¿Qué hace el operador '==='?",
    a: "Compara igualdad estricta, coincidencia exacta."
  }
];

/* Referencias DOM */
const card = document.getElementById('card');
const cardFront = document.getElementById('cardFront');
const cardBack = document.getElementById('cardBack');
const flipBtn = document.getElementById('flipBtn');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const fill = document.getElementById('progressFill');
const percentLabel = document.getElementById('progressPercent');
const counterLabel = document.getElementById('cardCounter');
const progressLabel = document.getElementById('progressLabel');

let index = 0;
let flipped = false;
const total = flashcards.length;

/* Inicializa UI */
function render() {
  const item = flashcards[index];
  cardFront.textContent = item.q;
  cardBack.textContent = item.a;

  // actualizar estado flip
  if (flipped) card.classList.add('flipped');
  else card.classList.remove('flipped');

  // actualizar progress
  const pct = Math.round(((index) / Math.max(1, total - 1)) * 100);
  //  100% cuando hay 1 tarjeta 
  const displayPct = total === 1 ? 100 : pct;
  fill.style.width = displayPct + '%';
  percentLabel.textContent = displayPct + '%';
  counterLabel.textContent = (index + 1) + ' / ' + total;
  progressLabel.textContent = (index + 1) + ' de ' + total;
  flipBtn.textContent = flipped ? 'Ocultar respuesta' : 'Mostrar respuesta';
  card.setAttribute('aria-pressed', flipped ? 'true' : 'false');
}

/* acciones */
function goNext() {
  index = (index + 1) % total;
  flipped = false;
  render();
}

function goPrev() {
  index = (index - 1 + total) % total;
  flipped = false;
  render();
}

function toggleFlip() {
  flipped = !flipped;
  render();
}

/* atach events */
nextBtn.addEventListener('click', goNext);
prevBtn.addEventListener('click', goPrev);
flipBtn.addEventListener('click', toggleFlip);

/* permitir click en la tarjeta para voltear */
card.addEventListener('click', () => {
  toggleFlip();
});

/* teclas A, D, espacio para flip */
document.addEventListener('keydown', (e) => {
  if (e.key === 'ArrowRight' || e.key.toLowerCase() === 'd') { goNext(); }
  if (e.key === 'ArrowLeft'  || e.key.toLowerCase() === 'a') { goPrev(); }
  if (e.key === ' ' || e.key === 'Spacebar') { e.preventDefault(); toggleFlip(); }
});

/* inicial */
render();
</script>
</body>
</html>
